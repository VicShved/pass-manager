syntax = "proto3";

package api;

option go_package = "api/proto";

message Empty {

}

message LoginRequest {
    string login = 1;
    string password = 2;
}

message LoginResponse {
    string token = 1;
}

message PostCardRequest {
    string  card_number = 1;
    string  valid = 2;
    string  code = 3;
}

message PostCardResponse {
    string id = 1;
}

message PostFileRequest {
    bytes chunk = 1;
    string file_name = 2;
}

message PostFileResponse {
    string file_name = 1;
    uint64 file_size = 2;
}

service PassManagerService {
    rpc Register(LoginRequest) returns (LoginResponse);
    rpc Login(LoginRequest) returns (LoginResponse);
    rpc PostCard(PostCardRequest) returns (PostCardResponse);
    rpc PostFile(stream PostFileRequest) returns (PostFileResponse);
}

